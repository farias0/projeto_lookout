[gd_scene load_steps=12 format=3 uid="uid://ckkl12kv0h1v2"]

[ext_resource type="Texture2D" uid="uid://dvpfu3c846x0g" path="res://ui/crosshair.png" id="1_4ptm4"]
[ext_resource type="PackedScene" uid="uid://bv3m1ns1lv7h8" path="res://player/player.tscn" id="1_5sf8t"]
[ext_resource type="Script" path="res://ui/HUD.cs" id="1_le3m2"]
[ext_resource type="Texture2D" uid="uid://duga5stvg545a" path="res://ui/health_bar.png" id="2_gvvvj"]
[ext_resource type="Texture2D" uid="uid://b5ri4oiebyi5e" path="res://ui/gauge_bg.png" id="3_1q12o"]
[ext_resource type="PackedScene" uid="uid://6wvc47yciarc" path="res://enemy/enemy.tscn" id="3_4s0tw"]
[ext_resource type="PackedScene" uid="uid://bc5wkuw0yd2j" path="res://wall/wall.tscn" id="3_7rrpu"]
[ext_resource type="PackedScene" uid="uid://b1nyddu8383px" path="res://greybox/greybox.tscn" id="6_03q6w"]
[ext_resource type="PackedScene" uid="uid://cgvq1xkwkjs5s" path="res://enemy/patrol_point/PatrolPoint.tscn" id="6_dr3r0"]

[sub_resource type="CanvasTexture" id="CanvasTexture_ifqyw"]
diffuse_texture = ExtResource("2_gvvvj")

[sub_resource type="NavigationMesh" id="NavigationMesh_ltjk3"]
vertices = PackedVector3Array(12.15, 0.499993, 16, 12.15, 0.499993, 8.75, 10.15, 0.499993, 8.5, 10.15, 0.499993, 16.25, -3.85, 0.499993, 19.5, 10.15, 0.499993, 19.5, 1.15, 0.499993, -3.5, -1.1, 0.499993, -3.5, -1.1, 0.499993, 4, 1.4, 0.499993, 4.25, -4.1, 0.499993, 4.25, 10.15, 0.499993, 4.25, 43.65, 0.999993, 22.5, 43.65, 0.499993, 19.5, 43.15, 0.499993, 19.25, 38.9, 0.749993, 21.25, 38.9, 1.24999, 22.75, 34.9, 0.499993, 23.25, 37.9, 0.499993, 23.25, 37.9, 0.499993, 21.25, 34.65, 0.499993, 18.75, 43.15, 0.499993, 3.5, 25.9, 0.499993, 3.5, 25.9, 0.499993, 8.5, 25.9, 0.499993, 16.25, 25.9, 0.499993, 18.75, 23.9, 0.499993, 8.75, 23.9, 0.499993, 16, -42.6, 5.24999, 19.25, -4.85, 5.24999, 19.5, -4.85, 5.24999, 16.25, -42.6, 5.24999, 16.25, -42.1, 7.74999, 20.25, -42.1, 7.74999, 59, -30.85, 7.74999, 59, -30.85, 7.74999, 20.25, 38.9, 8.24999, 57.75, 43.65, 8.24999, 58, 34.9, 0.499993, 57.25, 37.9, 0.499993, 57.25, 14.4, 0.499993, 59.25, 15.15, 0.499993, 59, 15.15, 0.499993, 51.5, 1.9, 0.499993, 51.5, 1.9, 0.499993, 61.25, 14.4, 0.499993, 61.25, 15.9, 0.499993, 59, 16.15, 0.499993, 59.5, 25.15, 0.499993, 59.25, 25.15, 0.499993, 51.5, 34.65, 0.499993, 59.5, 38.15, 0.499993, 59.75, 16.15, 0.499993, 90, 15.4, 0.499993, 98.75, 43.15, 0.499993, 98.75, 43.15, 0.499993, 59.75, 15.4, 0.499993, 90.25, 38.65, 8.49999, 59.5, 43.65, 8.49999, 86.5, 26.4, 8.49999, 86.25, 26.4, 8.49999, 59.5, -42.1, 12.75, 60, -42.1, 12.75, 87, -30.85, 12.75, 87, -30.85, 12.75, 60, 9.4, 0.499993, 71, 9.65, 0.499993, 71.75, 14.4, 0.499993, 71.75, 1.9, 0.499993, 71.75, 7.15, 0.499993, 71.75, 7.9, 0.499993, 70.75, 9.4, 0.499993, 72.5, 14.4, 0.499993, 88, 7.65, 0.499993, 72.5, 1.9, 0.499993, 88, -69.1, 15.25, 85.75, -58.1, 15.25, 85.75, -58.1, 15.25, 76, -69.1, 15.25, 76, -55.6, 15.25, 95.25, -55.35, 15.25, 88, -57.85, 15.25, 88, -69.1, 15.25, 95.25, 26.15, 8.49999, 88, 24.4, 8.99999, 88, 24.4, 8.99999, 95.25, 26.4, 8.49999, 95.5, 26.4, 8.49999, 98.75, 43.65, 8.49999, 98.75, 1.9, 0.499993, 100.25, 10.15, 0.499993, 100.5, 10.4, 0.499993, 98.75, 14.4, 0.499993, 90, -53.85, 15.25, 95.5, -30.6, 15.25, 95.5, -28.85, 15.25, 95.25, -29.1, 15.25, 88, -45.6, 15.25, 159.25, -38.85, 15.25, 159.25, -53.85, 15.25, 161.5, -45.85, 15.25, 161.5, -38.6, 15.25, 161.5, -30.6, 15.25, 161.5, -4.1, 15.25, 95.25, -4.1, 15.25, 88, 9.4, 13, 88, 9.4, 13, 95.25, 23.3853, 8.99999, 92.0107, 1.9, 0.499993, 138, 10.15, 0.499993, 137.75, 1.9, 1.24999, 148.25, 6.4, 1.24999, 148.25, 6.4, 0.749993, 146.25, 7.4, 0.499993, 146, 7.65, 0.499993, 146.5, 10.65, 0.499993, 139.5, 10.15, 0.499993, 139.25, 1.9, 0.499993, 143.857, 28.15, 0.499993, 139.5, 7.65, 0.499993, 162.75, 28.15, 0.499993, 162.75, 1.9, 7.49999, 182, 6.4, 7.49999, 182, 2.15, 0.499993, 154, 2.15, 0.499993, 162.75, 6.4, 0.499993, 162.75, 6.4, 0.499993, 154, -44.85, 20.25, 160.25, -44.85, 20.25, 191.25, -39.6, 20.25, 191.25, -39.6, 20.25, 160.25, -44.6, 15.25, 160.5, -44.6, 15.25, 167.25, -39.85, 15.25, 167.25, -39.85, 15.25, 160.5, -53.85, 15.25, 167.25, -45.85, 15.25, 167.25, -38.6, 15.25, 167.25, -30.6, 15.25, 167.25, 6.65, 7.49999, 184.25, 10.15, 7.49999, 215, 10.15, 7.49999, 184.25, 2.15, 7.49999, 215.75, -62.85, 25.25, 192.25, -62.85, 25.25, 215.5, -39.6, 25.25, 215.5, -39.6, 25.25, 192.25, 38.9, 7.49999, 216.25, 38.9, 7.49999, 223.5, 40.9, 7.49999, 223.75, 40.9, 7.49999, 216, 69.9, 7.49999, 238.75, 69.9, 7.49999, 199.5, 40.9, 7.49999, 238.75, 40.9, 7.49999, 199.5, 11.65, 7.49999, 223.5, 11.9, 7.49999, 216.25, 10.4, 7.49999, 216.25, 2.15, 7.49999, 223.5, -46.1, 20, 216.5, -46.1, 20, 223.5, -22.85, 20, 223.5, -22.85, 20, 216.25, -21.85, 15, 216.25, -21.85, 15, 223.5, 1.15, 15, 223.5, 1.15, 15, 216.25)
polygons = [PackedInt32Array(0, 3, 1), PackedInt32Array(1, 3, 2), PackedInt32Array(3, 5, 4), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 9), PackedInt32Array(8, 9, 10), PackedInt32Array(10, 9, 2), PackedInt32Array(10, 2, 3), PackedInt32Array(10, 3, 4), PackedInt32Array(9, 11, 2), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 15), PackedInt32Array(15, 12, 16), PackedInt32Array(18, 17, 19), PackedInt32Array(19, 17, 20), PackedInt32Array(15, 20, 14), PackedInt32Array(14, 20, 21), PackedInt32Array(21, 20, 23), PackedInt32Array(21, 23, 22), PackedInt32Array(20, 24, 23), PackedInt32Array(20, 25, 24), PackedInt32Array(15, 19, 20), PackedInt32Array(26, 23, 27), PackedInt32Array(27, 23, 24), PackedInt32Array(1, 26, 0), PackedInt32Array(0, 26, 27), PackedInt32Array(31, 30, 28), PackedInt32Array(28, 30, 29), PackedInt32Array(35, 34, 32), PackedInt32Array(32, 34, 33), PackedInt32Array(16, 12, 36), PackedInt32Array(36, 12, 37), PackedInt32Array(17, 18, 38), PackedInt32Array(38, 18, 39), PackedInt32Array(41, 40, 42), PackedInt32Array(42, 40, 43), PackedInt32Array(43, 40, 44), PackedInt32Array(40, 45, 44), PackedInt32Array(46, 41, 42), PackedInt32Array(46, 42, 47), PackedInt32Array(47, 42, 48), PackedInt32Array(48, 42, 49), PackedInt32Array(38, 39, 50), PackedInt32Array(50, 39, 51), PackedInt32Array(53, 52, 54), PackedInt32Array(54, 52, 51), PackedInt32Array(54, 51, 55), PackedInt32Array(53, 56, 52), PackedInt32Array(50, 51, 48), PackedInt32Array(48, 51, 47), PackedInt32Array(47, 51, 52), PackedInt32Array(36, 37, 57), PackedInt32Array(57, 37, 58), PackedInt32Array(60, 57, 59), PackedInt32Array(59, 57, 58), PackedInt32Array(64, 63, 61), PackedInt32Array(61, 63, 62), PackedInt32Array(67, 66, 65), PackedInt32Array(69, 68, 70), PackedInt32Array(70, 68, 44), PackedInt32Array(65, 70, 67), PackedInt32Array(67, 70, 45), PackedInt32Array(45, 70, 44), PackedInt32Array(66, 67, 71), PackedInt32Array(71, 67, 72), PackedInt32Array(69, 73, 68), PackedInt32Array(68, 73, 74), PackedInt32Array(71, 72, 73), PackedInt32Array(73, 72, 74), PackedInt32Array(78, 77, 75), PackedInt32Array(75, 77, 76), PackedInt32Array(80, 79, 81), PackedInt32Array(75, 76, 81), PackedInt32Array(75, 81, 82), PackedInt32Array(82, 81, 79), PackedInt32Array(84, 83, 85), PackedInt32Array(85, 83, 86), PackedInt32Array(88, 87, 86), PackedInt32Array(83, 59, 86), PackedInt32Array(86, 59, 58), PackedInt32Array(86, 58, 88), PackedInt32Array(89, 91, 90), PackedInt32Array(56, 53, 92), PackedInt32Array(92, 53, 91), PackedInt32Array(92, 91, 72), PackedInt32Array(72, 91, 89), PackedInt32Array(72, 89, 74), PackedInt32Array(79, 80, 93), PackedInt32Array(93, 80, 94), PackedInt32Array(94, 80, 95), PackedInt32Array(95, 80, 96), PackedInt32Array(97, 93, 98), PackedInt32Array(98, 93, 94), PackedInt32Array(100, 99, 97), PackedInt32Array(97, 99, 93), PackedInt32Array(101, 98, 102), PackedInt32Array(102, 98, 94), PackedInt32Array(103, 95, 104), PackedInt32Array(104, 95, 96), PackedInt32Array(105, 107, 106), PackedInt32Array(106, 107, 85), PackedInt32Array(85, 107, 84), PackedInt32Array(84, 107, 105), PackedInt32Array(109, 108, 90), PackedInt32Array(90, 108, 89), PackedInt32Array(112, 111, 110), PackedInt32Array(115, 114, 113), PackedInt32Array(115, 113, 116), PackedInt32Array(116, 113, 112), PackedInt32Array(110, 117, 112), PackedInt32Array(112, 117, 108), PackedInt32Array(112, 108, 116), PackedInt32Array(116, 108, 109), PackedInt32Array(115, 118, 114), PackedInt32Array(114, 118, 119), PackedInt32Array(119, 118, 120), PackedInt32Array(110, 111, 121), PackedInt32Array(121, 111, 122), PackedInt32Array(126, 125, 123), PackedInt32Array(123, 125, 124), PackedInt32Array(130, 129, 127), PackedInt32Array(127, 129, 128), PackedInt32Array(134, 133, 131), PackedInt32Array(131, 133, 132), PackedInt32Array(136, 135, 100), PackedInt32Array(100, 135, 99), PackedInt32Array(138, 137, 102), PackedInt32Array(102, 137, 101), PackedInt32Array(121, 122, 139), PackedInt32Array(139, 141, 140), PackedInt32Array(139, 140, 121), PackedInt32Array(121, 140, 142), PackedInt32Array(146, 145, 143), PackedInt32Array(143, 145, 144), PackedInt32Array(147, 150, 148), PackedInt32Array(148, 150, 149), PackedInt32Array(149, 150, 151), PackedInt32Array(151, 150, 152), PackedInt32Array(151, 153, 149), PackedInt32Array(150, 154, 152), PackedInt32Array(157, 156, 155), PackedInt32Array(157, 155, 140), PackedInt32Array(140, 155, 142), PackedInt32Array(142, 155, 158), PackedInt32Array(160, 159, 161), PackedInt32Array(161, 159, 162), PackedInt32Array(166, 165, 163), PackedInt32Array(163, 165, 164), PackedInt32Array(147, 148, 156), PackedInt32Array(156, 148, 155)]

[node name="Main" type="Node3D"]

[node name="HUD" type="CanvasLayer" parent="."]
script = ExtResource("1_le3m2")

[node name="Crosshair" type="TextureRect" parent="HUD"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -20.0
offset_right = 20.0
offset_bottom = 20.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_4ptm4")

[node name="Gauges" type="CanvasLayer" parent="HUD"]

[node name="Health" type="CanvasLayer" parent="HUD/Gauges"]

[node name="BG" type="TextureRect" parent="HUD/Gauges/Health"]
offset_left = 62.0
offset_top = 41.0
offset_right = 280.0
offset_bottom = 64.0
texture = ExtResource("3_1q12o")

[node name="Bar" type="TextureRect" parent="HUD/Gauges/Health"]
offset_left = 62.0
offset_top = 41.0
offset_right = 280.0
offset_bottom = 64.0
texture = SubResource("CanvasTexture_ifqyw")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.0288236, 0.936986, -0.348175, 0.380756, 0.311768, 0.870532, 0.924226, -0.157661, -0.347777, -22.3621, 162.821, 134.636)
shadow_enabled = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_ltjk3")

[node name="Greybox" parent="NavigationRegion3D" instance=ExtResource("6_03q6w")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.25, 0)

[node name="Player" parent="NavigationRegion3D" instance=ExtResource("1_5sf8t")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="Wall" parent="NavigationRegion3D" instance=ExtResource("3_7rrpu")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 15.2086, 2, 74.5709)

[node name="Enemy" parent="NavigationRegion3D" node_paths=PackedStringArray("PatrolPoints") instance=ExtResource("3_4s0tw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.427, 0, 71.591)
PatrolPoints = [NodePath("PatrolPoint"), NodePath("PatrolPoint2"), NodePath("PatrolPoint3"), NodePath("PatrolPoint4")]

[node name="PatrolPoint" parent="NavigationRegion3D/Enemy" instance=ExtResource("6_dr3r0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 0, -17)

[node name="PatrolPoint2" parent="NavigationRegion3D/Enemy" instance=ExtResource("6_dr3r0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13, 0, -17)

[node name="PatrolPoint3" parent="NavigationRegion3D/Enemy" instance=ExtResource("6_dr3r0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13, 0, 22)

[node name="PatrolPoint4" parent="NavigationRegion3D/Enemy" instance=ExtResource("6_dr3r0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 0, 22)
